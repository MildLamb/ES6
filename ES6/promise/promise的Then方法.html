<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise的Then方法</title>
    <script>
        // 创建promise对象
        const p = new Promise((resolve,reject) => {
             setTimeout(()=>{
                 reject("用户数据");
             },2000);
        });

        // 调用then方法
        /** then 方法的返回结果是Promise对象
         *  对象状态由回调函数的执行结果决定
         *  Promise一共有三种状态： 未决定的：pending 成功：resolved、fulfilled 失败：rejected
         *
         *  可以通过链式调用解决回调地狱的问题
         *
         *  Promise的链式调用，Promise的Then方法可以返回一个Promise对象，return的resolve结果可以作为下一个then的value
         *
         *  Promise      Then
         *     |          |
         *  resolve --> value
         *  reject  --> reason
         */
        p.then(value => {
            return new Promise((resolve, reject) => {
                resolve("死亡之灵 - ");
            })
        },reason => {
            console.error(reason);
        }).then(value => {
            console.log(value + "千珏");
        });
    </script>
</head>
<body>

</body>
</html>